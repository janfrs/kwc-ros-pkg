<?xml version="1.0" ?><robot name="tilt_laser_test">
  
  
  

  <joint name="tilt_laser_mount_joint" type="revolute">
      <axis xyz="0 1 0"/>
      <anchor xyz="0 0 0"/>
      <limit effort="0.5292" max="1.48" min="-0.785" velocity="1256.0"/>
      <calibration reference_position="-0.35" values="0 0"/>
    </joint><link name="tilt_laser_mount"> 
      <parent name="torso"/>
      <origin rpy="0 0 0" xyz="0 0 0.03"/>
      <joint name="tilt_laser_mount_joint"/> 
      <inertial>
        <mass value="1.0"/>
        <com xyz="0 0 0"/>
        <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
      </inertial> 
      
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <map flag="gazebo" name="gazebo_material">
          <elem key="material">Gazebo/PioneerBody</elem>
        </map>
        <geometry name="pr2_tilt_laser_mount_mesh_file">
          <mesh filename="hok_tilt"/>
        </geometry>
      </visual>
      
      <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry name="tilt_laser_mount_collision_geom">
          <box size=".001 .001 .001"/> 
        </geometry>
      </collision>
    </link><transmission name="tilt_laser_mount_trans" type="SimpleTransmission">
      <actuator name="tilt_laser_motor"/>
      <joint name="tilt_laser_mount_joint"/>
      <mechanicalReduction>6.0</mechanicalReduction>
    </transmission><joint name="tilt_laser_joint" type="fixed">
      <axis xyz="0 1 0"/>
      <anchor xyz="0 0 0"/>
    </joint><sensor name="tilt_laser" type="laser">
      <parent name="tilt_laser_mount"/>
      <origin rpy="0 0 0" xyz="0 0 0.03"/>      
      <joint name="tilt_laser_joint"/> 
      <inertial>
        <mass value="0.1"/>
        <com xyz="0 0 0"/>
        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>
      </inertial> 
      
      <visual>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry name="pr2_tilt_laser_visual_geom">
          <mesh scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      
      <collision>
        <origin rpy="0 0 0" xyz="0 0 0"/>
        <geometry name="tilt_laser_collision_geom">
          <box size=".001 .001 .001"/> 
        </geometry>
      </collision>
      
      <map flag="gazebo" name="sensor">
        <verbatim key="sensor_ray">
          <sensor:ray name="tilt_laser">
            <rayCount>683</rayCount>
            <rangeCount>683</rangeCount>
            <laserCount>1</laserCount>
            
            <origin>0.0 0.0 0.0</origin>
            <displayRays>false</displayRays>
            
            <minAngle>-45</minAngle>
            <maxAngle> 45</maxAngle>
            
            <minRange>0.05</minRange>
            <maxRange>10.0</maxRange>
            <updateRate>10.0</updateRate>
            <controller:ros_laser name="ros_tilt_laser_controller" plugin="libRos_Laser.so">
              <gaussianNoise>0.005</gaussianNoise>
              <alwaysOn>true</alwaysOn>
              <updateRate>15.0</updateRate>
              <!-- <topicName>tilt_scan</topicName> -->
              <topicName>scan</topicName>
              <frameName>tilt_laser</frameName>
              <interface:laser name="ros_tilt_laser_iface"/>
            </controller:ros_laser>
          </sensor:ray>
        </verbatim>
      </map>

    </sensor>

  <joint name="torso_joint" type="prismatic"> 
    <limit effort="10" max="0.396" min="0.0" velocity="5"/>
    <axis xyz="0 0 1"/>
  </joint><transmission name="torso_trans" type="SimpleTransmission">
    <actuator name="torso_motor"/>
    <joint name="torso_joint"/>
    <mechanicalReduction>19</mechanicalReduction>
  </transmission><link name="torso">
    <parent name=" world"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <joint name="torso_joint"/>
    
    <inertial>
      <mass value="36.248046"/>
      <com xyz="0 0 0"/>
      <inertia ixx="2.771653750257" ixy="0.004284522609" ixz="-0.160418504506" iyy="2.510019507959" iyz="0.029664468704" izz="0.526432355569"/>
    </inertial>
    
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <map flag="gazebo" name="foo">
	<elem key="material">Gazebo/Red</elem>
      </map>
      <geometry name="pr2_torso_mesh_file">
        <mesh filename="torso"/>
      </geometry>
    </visual> 
    
    <collision>
      <origin rpy="0 0 0" xyz="-0.10 0 -0.50/2+ -0.50"/>
      <geometry name="torso_collision_geom">
        <box size="0.432 0.620 0.823"/>
      </geometry>
    </collision> 
  </link>

</robot>
