<launch>
  <master auto="start" />

    <include file="$(find pr2_prototype1_gazebo)/pr2_prototype1_tables_no_x.launch"/>

    <!-- Common parameter settings /-->
    <include file="$(find 2dnav_gazebo)/2dnav-params.xml"/>
    <param name="/trex/ping_frequency" value="1"/>

    <node pkg="map_server" type="map_server" args="$(find gazebo_robot_description)/world/Media/materials/textures/map_blank.png 0.1" respawn="false" />
    <node pkg="fake_localization" type="fake_localization" respawn="false" output="screen" />
    <node pkg="world_3d_map" type="world_3d_map" args="/robotdesc/pr2 scan:=tilt_scan cloud:=full_cloud" respawn="false" /> 

    <!--node pkg="wavefront_player" type="wavefront_player" args="scan:=base_scan" respawn="false" output="screen" /-->
    <node pkg="highlevel_controllers" type="move_base_sbpl" args="" respawn="false" />

    <!--
    <node pkg="highlevel_controllers" type="recharge_controller" args="" respawn="false" />
    <node pkg="kinematic_planning" type="kinematic_planning" args="robotdesc/pr2"/>
    <include file="$(find world_3d_map)/run.xml"/>
    <node pkg="highlevel_controllers" type="move_arm" args="right" respawn="false"/>
    <node pkg="highlevel_controllers" type="move_arm" args="left" respawn="false" />
    <node pkg="highlevel_controllers" type="move_end_effector" args="right" respawn="false"/>
    -->

    <!--node pkg="nav_view" type="nav_view" respawn="false" /-->

    <!-- test -->
    <test test-name="2dnav_gazebo_test_2dnav"  pkg="2dnav_gazebo" type="test_2dnav.py" />
</launch>
